/* ============================================================
   IMPORTS
   ============================================================ */
@import url('https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Plus+Jakarta+Sans:wght@500;600;700;800&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200..800&display=swap');

/* Tailwind & dependencies — keep import order intact */
@import "tailwindcss";
@import "tw-animate-css";
@import "shadcn/tailwind.css";
@import url("./animations.css");
@import url("./container.css");


/* ============================================================
   DARK MODE VARIANT
   ============================================================ */
@custom-variant dark (&:is(.dark *));


/* ============================================================
   DESIGN TOKENS  (theme)
   ── All primitive values live here; semantic values below.
   ============================================================ */
@theme inline {

  /* --- Typography --- */
  --font-sans:    "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  --font-heading: "Plus Jakarta Sans", "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  --font-brand:   "Bricolage Grotesque", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  --font-mono:    "JetBrains Mono", "Fira Code", "Cascadia Code", ui-monospace, monospace;

  /* --- Brand palette --- */
  --color-brand-primary:   #a3e635;   /* lime-400 */
  --color-brand-primary-dim: #84cc16; /* lime-500 – hover/active state */
  --color-brand-primary-glow: oklch(0.86 0.29 130 / 35%); /* for box-shadows */

  /* --- Radius scale --- */
  --radius-xs:  calc(var(--radius) - 6px);
  --radius-sm:  calc(var(--radius) - 4px);
  --radius-md:  calc(var(--radius) - 2px);
  --radius-lg:  var(--radius);
  --radius-xl:  calc(var(--radius) + 4px);
  --radius-2xl: calc(var(--radius) + 8px);
  --radius-3xl: calc(var(--radius) + 12px);
  --radius-4xl: calc(var(--radius) + 16px);

  /* --- Semantic color aliases (resolved from CSS vars below) --- */
  --color-background:           var(--background);
  --color-foreground:           var(--foreground);
  --color-card:                 var(--card);
  --color-card-foreground:      var(--card-foreground);
  --color-popover:              var(--popover);
  --color-popover-foreground:   var(--popover-foreground);
  --color-primary:              var(--color-brand-primary);
  --color-primary-foreground:   var(--primary-foreground);
  --color-secondary:            var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted:                var(--muted);
  --color-muted-foreground:     var(--muted-foreground);
  --color-accent:               var(--accent);
  --color-accent-foreground:    var(--accent-foreground);
  --color-destructive:          var(--destructive);
  --color-border:               var(--border);
  --color-input:                var(--input);
  --color-ring:                 var(--ring);
  --color-chart-1:              var(--chart-1);
  --color-chart-2:              var(--chart-2);
  --color-chart-3:              var(--chart-3);
  --color-chart-4:              var(--chart-4);
  --color-chart-5:              var(--chart-5);
  --color-sidebar:                      var(--sidebar);
  --color-sidebar-foreground:           var(--sidebar-foreground);
  --color-sidebar-primary:              var(--sidebar-primary);
  --color-sidebar-primary-foreground:   var(--sidebar-primary-foreground);
  --color-sidebar-accent:               var(--sidebar-accent);
  --color-sidebar-accent-foreground:    var(--sidebar-accent-foreground);
  --color-sidebar-border:               var(--sidebar-border);
  --color-sidebar-ring:                 var(--sidebar-ring);

  /* --- Marquee animations --- */
  --animate-marquee-left:  marquee-left  40s linear infinite;
  --animate-marquee-right: marquee-right 40s linear infinite;

  @keyframes marquee-left  { from { transform: translateX(0);    } to { transform: translateX(-50%); } }
  @keyframes marquee-right { from { transform: translateX(-50%); } to { transform: translateX(0);    } }
}


/* ============================================================
   LIGHT THEME  (CSS custom properties)
   ============================================================ */
:root {
  /* --- Base --- */
  --radius: 0.375rem; /* bumped slightly for a softer SaaS feel */

  /* --- Surfaces --- */
  --background:         oklch(0.99 0 0);     /* near-white, not glaring */
  --foreground:         oklch(0.12 0 0);     /* rich black for legibility */

  --card:               oklch(1 0 0);
  --card-foreground:    oklch(0.12 0 0);

  --popover:            oklch(1 0 0);
  --popover-foreground: oklch(0.12 0 0);

  /* --- Interactive --- */
  --primary:            oklch(0.12 0 0);
  --primary-foreground: oklch(0.98 0 0);

  --secondary:          oklch(0.96 0 0);
  --secondary-foreground: oklch(0.2 0 0);

  /* --- Utility --- */
  --muted:              oklch(0.96 0 0);
  --muted-foreground:   oklch(0.50 0 0);    /* improved contrast vs 0.556 */

  --accent:             oklch(0.96 0 0);
  --accent-foreground:  oklch(0.2 0 0);

  --destructive:        oklch(0.577 0.245 27.325);

  --border:             oklch(0.90 0 0);    /* slightly stronger borders */
  --input:              oklch(0.90 0 0);
  --ring:               oklch(0.65 0 0);

  /* --- Data-viz chart palette --- */
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.600 0.118 184.704);
  --chart-3: oklch(0.398 0.070 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);

  /* --- Sidebar --- */
  --sidebar:                    oklch(0.97 0 0);
  --sidebar-foreground:         oklch(0.12 0 0);
  --sidebar-primary:            oklch(0.12 0 0);
  --sidebar-primary-foreground: oklch(0.98 0 0);
  --sidebar-accent:             oklch(0.94 0 0);
  --sidebar-accent-foreground:  oklch(0.2 0 0);
  --sidebar-border:             oklch(0.90 0 0);
  --sidebar-ring:               oklch(0.65 0 0);

  /* --- Transitions (used via var() for consistent motion) --- */
  --transition-fast:   100ms ease;
  --transition-base:   180ms ease;
  --transition-slow:   300ms ease;
  --transition-spring: 350ms cubic-bezier(0.34, 1.56, 0.64, 1);

  /* --- Elevation shadows --- */
  --shadow-xs: 0 1px 2px 0 oklch(0 0 0 / 0.05);
  --shadow-sm: 0 1px 3px 0 oklch(0 0 0 / 0.10), 0 1px 2px -1px oklch(0 0 0 / 0.10);
  --shadow-md: 0 4px 6px -1px oklch(0 0 0 / 0.10), 0 2px 4px -2px oklch(0 0 0 / 0.10);
  --shadow-lg: 0 10px 15px -3px oklch(0 0 0 / 0.10), 0 4px 6px -4px oklch(0 0 0 / 0.10);
  --shadow-brand: 0 0 0 3px var(--color-brand-primary-glow);
}


/* ============================================================
   DARK THEME
   ── Intentionally richer than the light theme: true dark
      backgrounds (not just dark gray), warmer tones to reduce
      eye-strain in long SaaS sessions.
   ============================================================ */
.dark {
  /* --- Surfaces (true dark, not charcoal-gray) --- */
  --background:         oklch(0.11 0 0);    /* deeper than 0.145 */
  --foreground:         oklch(0.97 0 0);

  --card:               oklch(0.16 0 0);    /* subtle lift from background */
  --card-foreground:    oklch(0.97 0 0);

  --popover:            oklch(0.18 0 0);
  --popover-foreground: oklch(0.97 0 0);

  /* --- Interactive --- */
  --primary:            oklch(0.93 0 0);
  --primary-foreground: oklch(0.16 0 0);

  --secondary:          oklch(0.22 0 0);
  --secondary-foreground: oklch(0.97 0 0);

  /* --- Utility --- */
  --muted:              oklch(0.22 0 0);
  --muted-foreground:   oklch(0.62 0 0);    /* improved readability */

  --accent:             oklch(0.22 0 0);
  --accent-foreground:  oklch(0.97 0 0);

  --destructive:        oklch(0.65 0.20 22.216);

  --border:             oklch(1 0 0 / 8%);  /* softer than 10% */
  --input:              oklch(1 0 0 / 12%);
  --ring:               oklch(0.50 0 0);

  /* --- Data-viz (brighter in dark for visibility) --- */
  --chart-1: oklch(0.55 0.243 264.376);
  --chart-2: oklch(0.70 0.17  162.48);
  --chart-3: oklch(0.77 0.188 70.08);
  --chart-4: oklch(0.63 0.265 303.9);
  --chart-5: oklch(0.65 0.246 16.439);

  /* --- Sidebar --- */
  --sidebar:                    oklch(0.16 0 0);
  --sidebar-foreground:         oklch(0.97 0 0);
  --sidebar-primary:            oklch(0.55 0.243 264.376);
  --sidebar-primary-foreground: oklch(0.97 0 0);
  --sidebar-accent:             oklch(0.22 0 0);
  --sidebar-accent-foreground:  oklch(0.97 0 0);
  --sidebar-border:             oklch(1 0 0 / 8%);
  --sidebar-ring:               oklch(0.50 0 0);

  /* --- Elevation shadows (dark-aware) --- */
  --shadow-xs: 0 1px 2px 0 oklch(0 0 0 / 0.30);
  --shadow-sm: 0 1px 3px 0 oklch(0 0 0 / 0.40), 0 1px 2px -1px oklch(0 0 0 / 0.40);
  --shadow-md: 0 4px 6px -1px oklch(0 0 0 / 0.40), 0 2px 4px -2px oklch(0 0 0 / 0.40);
  --shadow-lg: 0 10px 15px -3px oklch(0 0 0 / 0.50), 0 4px 6px -4px oklch(0 0 0 / 0.40);
}


/* ============================================================
   BASE LAYER
   ── Global element defaults — kept minimal on purpose.
   ============================================================ */
@layer base {
  *, *::before, *::after {
    @apply border-border outline-ring/50;
    box-sizing: border-box;
  }

  html {
    /* Smooth scroll for anchor nav; respect user motion preferences */
    scroll-behavior: smooth;
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
  }

  @media (prefers-reduced-motion: reduce) {
    html { scroll-behavior: auto; }
    *, *::before, *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }

  body {
    @apply bg-background text-foreground;
    font-family: var(--font-sans);
    font-feature-settings: "cv11", "ss01"; /* Inter optical features */
    font-optical-sizing: auto;
    line-height: 1.6;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-heading);
    line-height: 1.2;
    letter-spacing: -0.02em;  /* tight tracking for display headings */
    font-weight: 700;
  }

  /* Better focus ring for keyboard nav — uses brand ring color */
  :focus-visible {
    outline: 2px solid var(--color-brand-primary);
    outline-offset: 2px;
    border-radius: var(--radius-sm);
  }

  button, [role="button"] {
    cursor: pointer;
  }

  /* Prevent tap highlight on mobile */
  button, a, [role="button"] {
    -webkit-tap-highlight-color: transparent;
  }

  /* Links */
  a {
    color: inherit;
    text-underline-offset: 3px;
  }

  /* Images & media */
  img, video, svg {
    display: block;
    max-width: 100%;
  }

  /* Code */
  code, kbd, pre, samp {
    font-family: var(--font-mono);
    font-size: 0.875em;
  }
}


/* ============================================================
   SCROLLBAR  (thin, brand-colored, cross-browser)
   ============================================================ */

/* Firefox */
* {
  scrollbar-width: thin;
  scrollbar-color: oklch(0.75 0 0) transparent;
}
.dark * {
  scrollbar-color: oklch(0.35 0 0) transparent;
}

/* WebKit */
*::-webkit-scrollbar              { width: 6px; height: 6px; }
*::-webkit-scrollbar-track        { background: transparent; }
*::-webkit-scrollbar-thumb        {
  background-color: oklch(0.78 0 0);
  border-radius: 9999px;
}
*::-webkit-scrollbar-thumb:hover  { background-color: var(--color-brand-primary); }
*::-webkit-scrollbar-corner       { background: transparent; }

.dark *::-webkit-scrollbar-thumb       { background-color: oklch(0.35 0 0); }
.dark *::-webkit-scrollbar-thumb:hover { background-color: var(--color-brand-primary); }


/* ============================================================
   SELECTION  (brand-tinted highlight)
   ============================================================ */
::selection        { background: oklch(0.86 0.29 130 / 30%); color: inherit; }
.dark ::selection  { background: oklch(0.86 0.29 130 / 25%); color: inherit; }


/* ============================================================
   UTILITY HELPERS
   ── Small reusable extras that don't warrant a component.
   ============================================================ */

/* Gradient text — use: class="gradient-text" */
.gradient-text {
  background: linear-gradient(135deg, var(--color-brand-primary) 0%, oklch(0.75 0.22 150) 100%);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
}

/* Brand glow ring (e.g. active CTAs) */
.ring-brand {
  box-shadow: var(--shadow-brand);
}

/* Smooth surface transitions on theme change */
.theme-transition,
.theme-transition * {
  transition:
    background-color var(--transition-slow),
    border-color     var(--transition-slow),
    color            var(--transition-slow);
}